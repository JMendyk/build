%% For double-blind review submission, w/o CCS and ACM Reference (max submission space)
% \documentclass[acmsmall,review,anonymous]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}
%% For double-blind review submission, w/ CCS and ACM Reference
%\documentclass[acmsmall,review,anonymous]{acmart}\settopmatter{printfolios=true}
% For single-blind review submission, w/o CCS and ACM Reference (max submission space)
% \documentclass[acmsmall,review]{acmart}\settopmatter{printfolios=true,printccs=false,printacmref=false}
%% For single-blind review submission, w/ CCS and ACM Reference
%\documentclass[acmsmall,review]{acmart}\settopmatter{printfolios=true}
%% For final camera-ready submission, w/ required CCS and ACM Reference
\documentclass[acmsmall]{acmart}\settopmatter{}

%% Journal information
%% Supplied to authors by publisher for camera-ready submission;
%% use defaults for review submission.
\acmJournal{PACMPL}
\acmVolume{1}
\acmNumber{ICFP}
\acmArticle{1}
\acmYear{2018}
\acmMonth{1}
\acmDOI{}
\startPage{1}

%% Copyright information
%% Supplied to authors (based on authors' rights management selection;
%% see authors.acm.org) by publisher for camera-ready submission;
%% use 'none' for review submission.
\setcopyright{none}
%\setcopyright{acmcopyright}
%\setcopyright{acmlicensed}
%\setcopyright{rightsretained}
%\copyrightyear{2018}           %% If different from \acmYear

\bibliographystyle{ACM-Reference-Format}
%% Note: author/year citations are required for papers published as an
%% issue of PACMPL.
\citestyle{acmauthoryear}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Note: Authors migrating a paper from PACMPL format to traditional
%% SIGPLAN proceedings format must update the '\documentclass' and
%% topmatter commands above; see 'acmart-sigplanproc-template.tex'.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{bookmark}
\usepackage{booktabs}
\usepackage{subcaption}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{xspace}
\usepackage{fancyhdr}

% Haskell code snippets and useful shortcuts
\usepackage{minted}
\setminted[haskell]{escapeinside=@@}
\newcommand{\hs}{\mintinline{haskell}}
\newcommand{\cmd}[1]{\textsf{\color[rgb]{0,0,0.5} #1}}
\newcommand{\teq}{\smaller $\sim$}
\newcommand{\ghci}{$\lambda$>}
\newcommand{\defeq}{\stackrel{\text{def}}{=}}
\newcommand{\std}[1]{{\color[rgb]{0,0.3,0} #1}}
\newcommand{\blk}[1]{{\color[rgb]{0,0,0} #1}}

% \renewcommand{\MintedPygmentize}{path-to-pygmentize}% Questions and tasks
\newcommand{\q}[2]{\textbf{\color{blue} Question #1:} #2}
\newcommand{\todo}[2]{[\textbf{\color{red} #1:} #2]}

% Abbreviations for build systems
\newcommand{\Make}{\textsc{Make}\xspace}
\newcommand{\Shake}{\textsc{Shake}\xspace}
\newcommand{\Cloud}{\textsc{Cloud}\xspace}
\newcommand{\Ninja}{\textsc{Ninja}\xspace}
\newcommand{\Bazel}{\textsc{Bazel}\xspace}
\newcommand{\Buck}{\textsc{Buck}\xspace}
\newcommand{\CloudBuild}{\textsc{CloudBuild}\xspace}
\newcommand{\Nix}{\textsc{Nix}\xspace}
\newcommand{\Pluto}{\textsc{Pluto}\xspace}
\newcommand{\Excel}{\textsc{Excel}\xspace}
\newcommand{\Tup}{\textsc{Tup}\xspace}
\newcommand{\Fabricate}{\textsc{Fabricate}\xspace}
\newcommand{\Redo}{\textsc{Redo}\xspace}
\newcommand{\Calc}{\textsc{Calc}\xspace}
\newcommand{\store}{\hs{k}~\hs{->}~\hs{v}\xspace}
\newcommand{\storef}{\hs{k}~\hs{->}~\hs{f}~\hs{v}\xspace}

\begin{document}

%% [Short title] Title
\title[Build Systems \`a la Carte]{Build Systems \`a la Carte}
% \titlenote{with title note}
% \subtitle{(Under review, feedback is sought)}
% \subtitlenote{with subtitle note}

%% An author may have multiple affiliations and/or emails; repeat the
%% appropriate command.
%% Many elements are not rendered, but should be provided for metadata
%% extraction tools.
\author{Andrey Mokhov}
\affiliation{
  \department{School of Engineering}
  \institution{Newcastle University}
  \city{Newcastle upon Tyne}
  \country{United Kingdom}
}
\email{andrey.mokhov@ncl.ac.uk}

\author{Neil Mitchell}
\affiliation{
  \institution{Digital Asset}
  \country{United Kingdom}
}
\email{ndmitchell@gmail.com}

\author{Simon Peyton Jones}
\affiliation{
  \institution{Microsoft Research}
  \city{Cambridge}
  \country{United Kingdom}
}
\email{simonpj@microsoft.com}

\begin{abstract}
Build systems are awesome, terrifying -- and unloved.
They power developers around the world, but are rarely the object of study.
In this paper we offer a systematic, and executable, framework for developing and comparing
build systems, viewing them as related points in landscape rather than as isolated phenomena.
By teasing apart existing build systems, we can recombine their components,
allowing us to prototype the first build
system that combines dynamic dependencies and cloud builds.
\end{abstract}

%% 2012 ACM Computing Classification System (CSS) concepts
%% Generate at 'http://dl.acm.org/ccs/ccs.cfm'.
\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10011007</concept_id>
 <concept_desc>Software and its engineering</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10002950</concept_id>
 <concept_desc>Mathematics of computing</concept_desc>
<concept_significance>300</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}
\ccsdesc[500]{Software and its engineering}
\ccsdesc[300]{Mathematics of computing}
%% End of generated code
\keywords{build systems, functional programming, algorithms}

\maketitle

\input{1-intro}
\input{2-background}
\input{3-abstractions}
\input{4-build}
\input{5-implementations}
\input{6-engineering}
\input{7-related}
\input{8-conclusions}

%% Acknowledgements
\begin{acks}
  %% contents suppressed with 'anonymous'
  %% Commands \grantsponsor{<sponsorID>}{<name>}{<url>} and
  %% \grantnum[<url>]{<sponsorID>}{<number>} should be used to
  %% acknowledge financial support and will be used by metadata
  %% extraction tools.
  Thank you for reading and feedback!

  Andrey Mokhov is funded by a Royal Society Industry Fellowship on the topic
  ``Towards Cloud Build Systems with Dynamic Dependency Graphs''.
\end{acks}

\bibliography{refs}

% \appendix
% \input{9-appendix}

\end{document}
